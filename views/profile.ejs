<%- include('./common/head2'); -%>
<%- include('./common/nav'); -%>
<%- include('./common/push-down'); -%>

</div>
<body>
<div class="container" id="profile">

<div class="main-body" >


          <div class="row gutters-sm ">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body profile-card" >
                  <div class="d-flex flex-column align-items-center text-center">
                    <div style="width: 250px; height: 250px; overflow: hidden; border-radius: 50%; border: 1px solid black;">
                      <div class="profilez" style="width: 250px; height: 250px;border-radius: 50%;  background-color: black;">
                      </div>
                </div>
                Change Profile:
                <div style="width: 80%; margin-left: 0%; font-size: 10px; display: flex; justify-content: center;">
                <form action="profilePhoto" method="post" enctype="multipart/form-data">
                  <div id="button">
                  <button class="btn btn-outline-dark"  onclick="document.getElementById('upload').click(); document.getElementById('submit').style.display = 'block'; document.getElementById('button').style.display = 'none' ">إرفع صورتك</button>
                  </div>
                <input required type="file" id="upload" name="myImage" style="width: 100%; font-size: 10px; height: 20px; display: none;">
                <br>
                <button type="submit" class="btn btn-dark" style="margin-top: 2px; display: none;" id="submit" >تثبيت</button>
            </div>
                </form>
                    <div class="mt-3">
                      <h4 style="color: rgb(255, 1, 77) ;"><%= user.username %></h4>
                      <p class="text-secondary mb-1"><%= user.type %></p>
                      <p class="text-muted font-size-sm">branch: <%= user.branch %></p>
                      
                    </div>
                  </div>
                </div>
              </div>
              
            </div>
            <div class="col-md-8 info">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Full Name</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        <%= user.name %>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Branch</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.branch %>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">bio</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.bio %>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Username</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.username %>
                      
                      
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Birthday:</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.birthday %>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Points:</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.points %>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                      <a class="btn btn-outline-dark "  href="/edit-profile">Edit</a>
                    </div>
                  </div>
              
                </div>
              </div>
              <% if( user.number != null) { %>

              <h1 style="color: rgb(255, 1, 77) ; font-size: 25px; margin-top: -5px;">
                
                Number: <%= user.number %>
              </h1>
              <% } else { %>
                <div id="option" style="width: 90%; height: 40vh; position: fixed; left: 5%; top: 30vh; z-index: 1; background-color: #05CB87; border-radius: 20px; box-shadow: 0px 0px 10px black; display: flex; justify-content: center; align-items: center;">
                  <p id="close" style="position: absolute; top: 2%; right: 5%;"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-x-square" viewBox="0 0 16 16">
                    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                  </svg></p>
                <h1>
                  قم بإضافة رقمك ليصلك كل جديد
                  <br>
                  <form action="/phone" method="post">
                  <input type="tel"  name="number" minlength="8" maxlength="8" placeholder="رقم الهاتف" class="inputz" style="text-align: center;" required>
                  <br>
                  <button class="btn btn-outline-light">إضافة</button>
                </form>
                </h1>
                </div>
              <% } %>
            </body>

            
<style>
body{
  text-align: left;
  background-color: #333333;

}
a:hover {
  color: white;
}
.heading {
    padding-top: 5vh;
    height: 35vh;
    width: 100%;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    align-items: center;
    background-image: linear-gradient(to bottom, rgb(255, 1, 77)  , #333333, #333333);
  }
.profilez {
    background-image: url('/profiles/<%= user.image %>');
    background-size: cover;
    background-position: center;
    transition: all .5s ease;
}
.profilez:hover {
  transform: scale(1.2);
}
.main-body {
    padding: 15px;
}
.card {
    box-shadow: 0 1px 3px 0 rgb(0, 0, 0), 0 1px 2px 0 rgb(0, 0, 0);
}

.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid rgb(0, 0, 0);
    border-radius: .25rem;
}

.card-body {
    flex: 1 1 auto;
    min-height: 1px;
    padding: 1rem;
}

.gutters-sm {
    margin-right: -8px;
    margin-left: -8px;
}

.gutters-sm>.col, .gutters-sm>[class*=col-] {
    padding-right: 8px;
    padding-left: 8px;
}
.mb-3, .my-3 {
    margin-bottom: 1rem!important;
}

.bg-gray-300 {
    background-color: #e2e8f0;
}
.h-100 {
    height: 100%!important;
}
.shadow-none {
    box-shadow: none!important;
}
.info {
  box-shadow: 0px 0px 10px #060a11;
  transition: all .5s ease;
  height: max-content;
  padding-top: 10px;
  border-radius: 20px;
}
.info:hover {
  box-shadow: 0px 0px 20px #060a11;
}
.profile-card:hover {
  box-shadow: 0px 0px 20px #060a11;
}
.profile-card {
  box-shadow: 0px 0px 10px #060a11;
  transition: all .5s ease;
}


</style>
<script>
  function uploadbutton() {
    console.log('test')
  }
  document.getElementById('close').onclick = function() {
    document.getElementById('option').style.display = 'none';
  }
</script>
