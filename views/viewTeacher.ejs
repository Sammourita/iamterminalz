<%- include('./common/head2'); -%> <%- include('./common/nav'); -%> <%-
include('./common/push-down'); -%>

<body>
  <div class="container">
    <div class="main-body">
      <div class="row gutters-sm">
        <div class="col-md-4 mb-3">
          <div class="card" style="background-color: transparent; border: none">
            <div
              class="card-body profile-card"
              style="
                background-color: #333333;
                box-shadow: 2px 5px 37px 6px rgba(0, 0, 0, 0.75);
              "
            >
              <div class="d-flex flex-column align-items-center text-center">
                <div
                  style="
                    width: 250px;
                    height: 250px;
                    overflow: hidden;
                    border-radius: 50%;
                    border: 1px solid black;
                  "
                >
                  <div
                    class="profilez"
                    style="
                      width: 250px;
                      height: 250px;
                      border-radius: 50%;
                      background-color: black;
                      overflow: h;
                    "
                  ></div>
                </div>
                <div
                  style="
                    width: 80%;
                    margin-left: 0%;
                    font-size: 10px;
                    display: flex;
                    justify-content: center;
                  "
                ></div>
                <div class="mt-3">
                  <h4 style="color: white"><%= teacher.username %></h4>
                  <p class="text-secondary mb-1" style="color: white">
                    <%= teacher.type %>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-8 info" style="background-color: #333333">
          <div class="card mb-3">
            <div class="card-body" style="border-radius: 20px">
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Materials</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <%= teacher.materials %>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Full Name</h6>
                </div>
                <div class="col-sm-9 text-secondary"><%= teacher.name %></div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Location</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <%= teacher.location %>
                </div>
              </div>

              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">bio</h6>
                </div>
                <div class="col-sm-9 text-secondary"><%= teacher.bio %></div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Certificate</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <%= teacher.certificate %>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Years Of Experience:</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <%= teacher.experience %> Years
                </div>
              </div>
              <hr />

              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Phone Number:</h6>
                </div>
                <div class="col-sm-9 text-secondary"><%= teacher.number %></div>
              </div>
              <hr />

              <% if( teacher.facebook.length != 0) { %>

              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Facebook:</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <%= teacher.facebook %>
                </div>
              </div>
              <hr />

              <% } %> <% if( teacher.instagram.length != 0) { %>

              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Instagram:</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <a href="<%= teacher.instagram %>"
                    ><%= teacher.instagram %>
                  </a>
                </div>
              </div>
              <hr />

              <% } %>
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Email:</h6>
                </div>
                <div class="col-sm-9 text-secondary"><%= teacher.email %></div>
              </div>
              <hr />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <br />
    <br />
    <div
      style="
        width: 100%;
        background-color: #333333;
        padding: 10px;
        box-shadow: 2px 30px 37px -2px rgba(0, 0, 0, 0.75);
      "
    >
      <div style="width: 90%; margin-left: 5%">
        <form action="/teacher/<%= teacher.id %>/review" method="post">
          <div class="form-group">
            <label
              for="exampleFormControlInput1"
              style="color: rgb(5, 203, 135)"
              >رأيك بالأستاذ كمدرّس؟</label
            >
            <input
              type="text"
              class="form-control"
              id="exampleFormControlInput1"
              name="review"
              placeholder="لديه قدرة رهيبة في التوضيح و الشرح"
            />
          </div>
          <div class="form-group">
            <label
              for="exampleFormControlSelect1"
              style="color: rgb(5, 203, 135)"
              >نوع التقييم</label
            >
            <select
              class="form-control"
              name="type"
              id="exampleFormControlSelect1"
            >
              <option value="positive">مراجعة إيجابية</option>
              <option value="negative">مراجعة سلبيّة</option>
            </select>
          </div>
          <br />

          <button type="submit" class="btn btn-outline-light">
            أرسل المراجعة
          </button>
        </form>
      </div>
    </div>
    <br />
    <br />
    <br />
    <% if(teacher.reviews.length > 0) { %>
    <h1 style="text-align: center; color: #333333">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="30"
        height="30"
        fill="currentColor"
        class="bi bi-balloon-heart"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="m8 2.42-.717-.737c-1.13-1.161-3.243-.777-4.01.72-.35.685-.451 1.707.236 3.062C4.16 6.753 5.52 8.32 8 10.042c2.479-1.723 3.839-3.29 4.491-4.577.687-1.355.587-2.377.236-3.061-.767-1.498-2.88-1.882-4.01-.721L8 2.42Zm-.49 8.5c-10.78-7.44-3-13.155.359-10.063.045.041.089.084.132.129.043-.045.087-.088.132-.129 3.36-3.092 11.137 2.624.357 10.063l.235.468a.25.25 0 1 1-.448.224l-.008-.017c.008.11.02.202.037.29.054.27.161.488.419 1.003.288.578.235 1.15.076 1.629-.157.469-.422.867-.588 1.115l-.004.007a.25.25 0 1 1-.416-.278c.168-.252.4-.6.533-1.003.133-.396.163-.824-.049-1.246l-.013-.028c-.24-.48-.38-.758-.448-1.102a3.177 3.177 0 0 1-.052-.45l-.04.08a.25.25 0 1 1-.447-.224l.235-.468ZM6.013 2.06c-.649-.18-1.483.083-1.85.798-.131.258-.245.689-.08 1.335.063.244.414.198.487-.043.21-.697.627-1.447 1.359-1.692.217-.073.304-.337.084-.398Z"
        /></svg
      >:رأي بعض الطلّاب
    </h1>

    <% } %>
    <br />
  </div>

  <div
    style="
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    "
  >
    <% for(var i=0; i < teacher.reviews.length ; i++) {%> <% if(
    teacher.reviews[i].type == 'positive') { %>
    <div class="card reviewz">
      <div class="card-header"><%= teacher.reviews[i].type %></div>
      <div class="card-body">
        <blockquote class="blockquote mb-0">
          <p><%= teacher.reviews[i].review %>.</p>
          <footer class="blockquote-footer">
            <a
              href="/users/<%= teacher.reviews[i].username %>"
              style="color: rgb(5, 203, 135)"
            >
              <%= teacher.reviews[i].username %>
            </a>
          </footer>
        </blockquote>
      </div>
    </div>
    <% } %> <% } %>
  </div>

  <% if(typeof isLoggedIn === 'undefined') { %>
  <div
    style="
      width: 100%;
      height: 15vh;
      background-color: #333333;
      box-shadow: 1px 41px 44px -17px rgba(0, 0, 0, 0.438);
      color: #333333;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 40px;
    "
  >
    <a
      href="/signup"
      class="btn btn-outline-light"
      style="
        height: 8vh;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        margin-left: 10px;
      "
      >إنشاء حساب</a
    >
    <a
      href="/login"
      class="btn btn-outline-light"
      style="
        height: 8vh;
        display: flex;
        align-items: center;
        justify-content: center;
      "
      >تسجيل دخول</a
    >
    <h1
      style="
        color: white;
        text-align: center;
        margin-left: 40px;
        font-size: 3vh;
        margin-right: 10px;
      "
    >
      قم بإنشاء حساب مجّانا
    </h1>
  </div>
  <% } %>
</body>

<style>
  body {
    text-align: left;
  }
  .profilez {
    background-image: url("/profiles/<%= teacher.image %>");
    background-size: cover;
    background-position: center;
    transition: all 0.5s ease;
  }
  .profilez:hover {
    transform: scale(1.1);
  }
  .main-body {
    padding: 15px;
  }
  .reviewz {
    width: 80%;
    margin-left: 10%;
    border-radius: 20px;
    box-shadow: 2px 13px 21px -2px rgba(0, 0, 0, 0.75);
    margin: 10px;
  }
  .label {
    text-align: center;
    color: rgb(5, 203, 135);
  }

  .card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-clip: border-box;
    border: 0 solid rgb(0, 0, 0);
    border-radius: 0.25rem;
  }

  .card-body {
    border-radius: 20px;
    flex: 1 1 auto;
    min-height: 1px;
    padding: 1rem;
  }
  .gutters-sm {
    margin-right: -8px;
    margin-left: -8px;
  }
  .gutters-sm > .col,
  .gutters-sm > [class*="col-"] {
    padding-right: 8px;
    padding-left: 8px;
  }
  .mb-3,
  .my-3 {
    margin-bottom: 1rem !important;
  }
  .bg-gray-300 {
  }
  .h-100 {
    height: 100% !important;
  }
  .shadow-none {
    box-shadow: none !important;
  }
  .info {
    box-shadow: 0px 0px 10px #060a11;
    transition: all 0.5s ease;
    height: max-content;
    padding-top: 10px;
    border-radius: 20px;
  }
  .info:hover {
    box-shadow: 0px 0px 20px #060a11;
  }
  .profile-card:hover {
    box-shadow: 0px 0px 20px #060a11;
  }
  .profile-card {
    transition: all 0.5s ease;
    border-radius: 20px;
  }
</style>
